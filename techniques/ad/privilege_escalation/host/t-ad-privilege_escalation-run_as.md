# Run As different user

## Run As different user [t-ad-privilege_escalation-run_as]

Run command from a different user

###  Run command from a different user




**option 1: RunasCs**

{% code overflow="wrap" %}
```bash
C:\Windows\Microsoft.NET\Framework64\v4.0.30319\csc.exe -target:exe -optimize -out:RunasCs.exe RunasCs.cs
./RunasCs.exe -d <domain> <username> <password> "<cmd>"

```
{% endcode %}


**option 2: Powershell**

{% code overflow="wrap" %}
```bash
$pass = ConvertTo-SecureString 'P@sw0rd' -AsPlainText -Force
$cred = New-Object System.Management.Automation.PSCredential("<username>", $pass)
$Session = New-PSSession -Credential $Cred
Invoke-Command -Session $Session -scriptblock { <commandline> }

```
{% endcode %}

